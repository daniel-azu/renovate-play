{"version":3,"file":"util.js","sourceRoot":"","sources":["../../../lib/manager/helm-values/util.ts"],"names":[],"mappings":";;;AAAA,8CAA2C;AAG3C,MAAM,WAAW,GAAG,SAAS,CAAC;AAE9B;;;;;;;;;;;;;;GAcG;AACH,SAAgB,gCAAgC,CAC9C,SAAiB,EACjB,IAAa;IAEb,OAAO,CACL,WAAW,CAAC,IAAI,CAAC,SAAS,CAAC;QAC3B,IAAI;QACJ,OAAO,IAAI,KAAK,QAAQ;QACxB,IAAA,eAAM,EAAC,YAAY,EAAE,IAAI,CAAC;QAC1B,IAAA,eAAM,EAAC,KAAK,EAAE,IAAI,CAAC,CACpB,CAAC;AACJ,CAAC;AAXD,4EAWC","sourcesContent":["import { hasKey } from '../../util/object';\nimport { HelmDockerImageDependency } from './types';\n\nconst parentKeyRe = /image$/i;\n\n/**\n * Type guard to determine whether a given partial Helm values.yaml object potentially\n * defines a Helm Docker dependency.\n *\n * There is no exact standard of how Docker dependencies are defined in Helm\n * values.yaml files (as of February 26th 2021), this function defines a\n * heuristic based on the most commonly used format in the Helm charts:\n *\n * image:\n *   repository: 'something'\n *   tag: v1.0.0\n * renovateImage:\n *   repository: 'something'\n *   tag: v1.0.0\n */\nexport function matchesHelmValuesDockerHeuristic(\n  parentKey: string,\n  data: unknown\n): data is HelmDockerImageDependency {\n  return (\n    parentKeyRe.test(parentKey) &&\n    data &&\n    typeof data === 'object' &&\n    hasKey('repository', data) &&\n    hasKey('tag', data)\n  );\n}\n"]}