{"version":3,"file":"releases.js","sourceRoot":"","sources":["../../../lib/datasource/rubygems/releases.ts"],"names":[],"mappings":";;;AAAA,wCAA0C;AAE1C,qCAA8C;AAC9C,+BAA6D;AAC7D,yDAA8D;AAE9D,SAAgB,WAAW,CAAC,EAC1B,UAAU,EACV,WAAW,GACO;;IAClB,IAAI,CAAA,MAAA,IAAA,cAAQ,EAAC,WAAW,CAAC,0CAAE,QAAQ,MAAK,cAAc,EAAE;QACtD,OAAO,IAAA,2CAAwB,EAAC,UAAU,CAAC,CAAC;KAC7C;IACD,IAAI,2BAAkB,CAAC,QAAQ,CAAC,MAAA,IAAA,cAAQ,EAAC,WAAW,CAAC,0CAAE,QAAQ,CAAC,EAAE;QAChE,OAAO,IAAA,2BAAqB,EAAC,UAAU,EAAE,WAAW,CAAC,CAAC;KACvD;IACD,OAAO,IAAA,mBAAa,EAAC,UAAU,EAAE,WAAW,CAAC,CAAC;AAChD,CAAC;AAXD,kCAWC","sourcesContent":["import { parseUrl } from '../../util/url';\nimport type { GetReleasesConfig, ReleaseResult } from '../types';\nimport { knownFallbackHosts } from './common';\nimport { getDependency, getDependencyFallback } from './get';\nimport { getRubygemsOrgDependency } from './get-rubygems-org';\n\nexport function getReleases({\n  lookupName,\n  registryUrl,\n}: GetReleasesConfig): Promise<ReleaseResult | null> {\n  if (parseUrl(registryUrl)?.hostname === 'rubygems.org') {\n    return getRubygemsOrgDependency(lookupName);\n  }\n  if (knownFallbackHosts.includes(parseUrl(registryUrl)?.hostname)) {\n    return getDependencyFallback(lookupName, registryUrl);\n  }\n  return getDependency(lookupName, registryUrl);\n}\n"]}